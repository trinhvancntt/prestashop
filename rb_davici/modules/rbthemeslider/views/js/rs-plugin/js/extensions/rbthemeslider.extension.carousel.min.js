/**
* 2007-2019 PrestaShop
*
* NOTICE OF LICENSE
*
* This source file is subject to the Academic Free License (AFL 3.0)
* that is bundled with this package in the file LICENSE.txt.
* It is also available through the world-wide-web at this URL:
* http://opensource.org/licenses/afl-3.0.php
* If you did not receive a copy of the license and are unable to
* obtain it through the world-wide-web, please send an email
* to license@prestashop.com so we can send you a copy immediately.
*
* DISCLAIMER
*
* Do not edit or add to this file if you wish to upgrade PrestaShop to newer
* versions in the future. If you wish to customize PrestaShop for your
* needs please refer to http://www.prestashop.com for more information.
*
*  @author    PrestaShop SA <contact@prestashop.com>
*  @copyright 2007-2019 PrestaShop SA
*  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
*  International Registered Trademark & Property of PrestaShop SA
*
* Don't forget to prefix your containers with your own identifier
* to avoid any conflicts with others containers.
*/
!function(e){var t=jQuery.fn.rbthemeslider;jQuery.extend(!0,t,{prepareCarousel:function(e,l,r){r=e.carousel.lastdirection=a(r,e.carousel.lastdirection),i(e),e.carousel.slide_offset_target=o(e),null==l?t.carouselToEvalPosition(e,r):s(e,r,!1)},carouselToEvalPosition:function(e,i){var l=e.carousel;i=l.lastdirection=a(i,l.lastdirection);var o="center"===l.horizontal_align?(l.wrapwidth/2-l.slide_width/2-l.slide_globaloffset)/l.slide_width:(0-l.slide_globaloffset)/l.slide_width,r=t.simp(o,e.slideamount,!1),n=r-Math.floor(r),d=0,f=-1*(Math.ceil(r)-r),h=-1*(Math.floor(r)-r);d=n>=.3&&"left"===i||n>=.7&&"right"===i?f:n<.3&&"left"===i||n<.7&&"right"===i?h:d,d="off"===l.infinity?r<0?r:o>e.slideamount-1?o-(e.slideamount-1):d:d,l.slide_offset_target=d*l.slide_width,0!==Math.abs(l.slide_offset_target)?s(e,i,!0):t.organiseCarousel(e,i)},organiseCarousel:function(e,t,i,a){t=void 0===t||"down"==t||"up"==t||null===t||jQuery.isEmptyObject(t)?"left":t;for(var s=e.carousel,l=new Array,o=s.slides.length,r=("right"===s.horizontal_align&&e.width,0);r<o;r++){var n=r*s.slide_width+s.slide_offset;"on"===s.infinity&&(n=(n=n>s.wrapwidth-s.inneroffset&&"right"==t?s.slide_offset-(s.slides.length-r)*s.slide_width:n)<0-s.inneroffset-s.slide_width&&"left"==t?n+s.maxwidth:n),l[r]=n}var d=999;s.slides&&jQuery.each(s.slides,function(a,r){var n=l[a];"on"===s.infinity&&(n=(n=n>s.wrapwidth-s.inneroffset&&"left"===t?l[0]-(o-a)*s.slide_width:n)<0-s.inneroffset-s.slide_width?"left"==t?n+s.maxwidth:"right"===t?l[o-1]+(a+1)*s.slide_width:n:n);var f=new Object;f.left=n+s.inneroffset;var h="center"===s.horizontal_align?(Math.abs(s.wrapwidth/2)-(f.left+s.slide_width/2))/s.slide_width:(s.inneroffset-f.left)/s.slide_width,w="center"===s.horizontal_align?2:1;if((i&&Math.abs(h)<d||0===h)&&(d=Math.abs(h),s.focused=a),f.width=s.slide_width,f.x=0,f.transformPerspective=1200,f.transformOrigin="50% "+s.vertical_align,"on"===s.fadeout)if("on"===s.vary_fade)f.autoAlpha=1-Math.abs(1/Math.ceil(s.maxVisibleItems/w)*h);else switch(s.horizontal_align){case"center":f.autoAlpha=Math.abs(h)<Math.ceil(s.maxVisibleItems/w-1)?1:1-(Math.abs(h)-Math.floor(Math.abs(h)));break;case"left":f.autoAlpha=h<1&&h>0?1-h:Math.abs(h)>s.maxVisibleItems-1?1-(Math.abs(h)-(s.maxVisibleItems-1)):1;break;case"right":f.autoAlpha=h>-1&&h<0?1-Math.abs(h):h>s.maxVisibleItems-1?1-(Math.abs(h)-(s.maxVisibleItems-1)):1}else f.autoAlpha=Math.abs(h)<Math.ceil(s.maxVisibleItems/w)?1:0;if(void 0!==s.minScale&&s.minScale>0)if("on"===s.vary_scale){f.scale=1-Math.abs(s.minScale/100/Math.ceil(s.maxVisibleItems/w)*h);s.slide_width,s.slide_width,f.scale,Math.abs(h)}else{f.scale=h>=1||h<=-1?1-s.minScale/100:(100-s.minScale*Math.abs(h))/100;s.slide_width,s.slide_width,s.minScale,Math.abs(h)}void 0!==s.maxRotation&&0!=Math.abs(s.maxRotation)&&("on"===s.vary_rotation?(f.rotationY=Math.abs(s.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(s.maxVisibleItems/w)*h))*s.maxRotation),f.autoAlpha=Math.abs(f.rotationY)>90?0:f.autoAlpha):f.rotationY=h>=1||h<=-1?s.maxRotation:Math.abs(h)*s.maxRotation,f.rotationY=h<0?-1*f.rotationY:f.rotationY),f.x=-1*s.space*h,f.left=Math.floor(f.left),f.x=Math.floor(f.x),f.scale,f.x,f.zIndex=Math.round(100-Math.abs(5*h)),f.transformStyle="3D"!=e.parallax.type&&"3d"!=e.parallax.type?"flat":"preserve-3d",punchgs.TweenLite.set(r,f)}),a&&(e.c.find(".next-rbslide").removeClass("next-rbslide"),jQuery(s.slides[s.focused]).addClass("next-rbslide"),e.c.trigger("rbthemeslider.nextslide.waiting"));s.wrapwidth,s.slide_offset,s.maxwidth,s.slide_offset,s.wrapwidth}});var i=function(e){void 0===e.bw&&t.setSize(e);var i=e.carousel,a=t.getHorizontalOffset(e.c,"left"),s=t.getHorizontalOffset(e.c,"right");void 0===i.wrap&&function(e){var t=e.carousel;t.infbackup=t.infinity,t.maxVisiblebackup=t.maxVisibleItems,t.slide_globaloffset="none",t.slide_offset=0,t.wrap=e.c.find(".tp-carousel-wrapper"),t.slides=e.c.find(".tp-rbslider-slidesli"),0!==t.maxRotation&&("3D"!=e.parallax.type&&"3d"!=e.parallax.type?punchgs.TweenLite.set(t.wrap,{perspective:1200,transformStyle:"flat"}):punchgs.TweenLite.set(t.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==t.border_radius&&parseInt(t.border_radius,0)>0&&punchgs.TweenLite.set(e.c.find(".tp-rbslider-slidesli"),{borderRadius:t.border_radius})}(e),i.slide_width="on"!==i.stretch?e.gridwidth[e.curWinRange]*e.bw:e.c.width(),i.maxwidth=e.slideamount*i.slide_width,i.maxVisiblebackup>i.slides.length+1&&(i.maxVisibleItems=i.slides.length+2),i.wrapwidth=i.maxVisibleItems*i.slide_width+(i.maxVisibleItems-1)*i.space,i.wrapwidth="auto"!=e.sliderLayout?i.wrapwidth>e.c.closest(".tp-simpleresponsive").width()?e.c.closest(".tp-simpleresponsive").width():i.wrapwidth:i.wrapwidth>e.ul.width()?e.ul.width():i.wrapwidth,i.infinity=i.wrapwidth>=i.maxwidth?"off":i.infbackup,i.wrapoffset="center"===i.horizontal_align?(e.c.width()-s-a-i.wrapwidth)/2:0,i.wrapoffset="auto"!=e.sliderLayout&&e.outernav?0:i.wrapoffset<a?a:i.wrapoffset;var l="hidden";"3D"!=e.parallax.type&&"3d"!=e.parallax.type||(l="visible"),"right"===i.horizontal_align?punchgs.TweenLite.set(i.wrap,{left:"auto",right:i.wrapoffset+"px",width:i.wrapwidth,overflow:l}):punchgs.TweenLite.set(i.wrap,{right:"auto",left:i.wrapoffset+"px",width:i.wrapwidth,overflow:l}),i.inneroffset="right"===i.horizontal_align?i.wrapwidth-i.slide_width:0,i.realoffset=Math.abs(i.wrap.position().left),i.windhalf=jQuery(window).width()/2},a=function(e,t){return null===e||jQuery.isEmptyObject(e)?t:void 0===e?"right":e},s=function(e,i,s){var l=e.carousel;i=l.lastdirection=a(i,l.lastdirection);var o=new Object;o.from=0,o.to=l.slide_offset_target,void 0!==l.positionanim&&l.positionanim.pause(),l.positionanim=punchgs.TweenLite.to(o,1.2,{from:o.to,onUpdate:function(){l.slide_offset=l.slide_globaloffset+o.from,l.slide_offset=t.simp(l.slide_offset,l.maxwidth),t.organiseCarousel(e,i,!1,!1)},onComplete:function(){l.slide_globaloffset="off"===l.infinity?l.slide_globaloffset+l.slide_offset_target:t.simp(l.slide_globaloffset+l.slide_offset_target,l.maxwidth),l.slide_offset=t.simp(l.slide_offset,l.maxwidth),t.organiseCarousel(e,i,!1,!0);var a=jQuery(e.li[l.focused]);e.c.find(".next-rbslide").removeClass("next-rbslide"),s&&t.callingNewSlide(e,e.c,a.data("index"))},ease:punchgs.Expo.easeOut})},l=function(e,t){return Math.abs(e)>Math.abs(t)?e>0?e-Math.abs(Math.floor(e/t)*t):e+Math.abs(Math.floor(e/t)*t):e},o=function(e){var i,a,s,o,r,n=0,d=e.carousel;if(void 0!==d.positionanim&&d.positionanim.kill(),"none"==d.slide_globaloffset)d.slide_globaloffset=n="center"===d.horizontal_align?d.wrapwidth/2-d.slide_width/2:0;else{d.slide_globaloffset=d.slide_offset,d.slide_offset=0;var f=e.c.find(".processing-rbslide").index(),h="center"===d.horizontal_align?(d.wrapwidth/2-d.slide_width/2-d.slide_globaloffset)/d.slide_width:(0-d.slide_globaloffset)/d.slide_width;h=t.simp(h,e.slideamount,!1),f=(f=f>=0?f:e.c.find(".active-rbslide").index())>=0?f:0,n="off"===d.infinity?h-f:(i=h,a=f,s=e.slideamount,r=a-s-i,o=l(o=a-i,s),r=l(r,s),-(Math.abs(o)>Math.abs(r)?r:o)),n*=d.slide_width}return n}}(jQuery);